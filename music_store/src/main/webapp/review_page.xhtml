<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <h:outputStylesheet library="styles" name="main.css" />
        <!--Style for the star radio buttons -->
        <h:outputStylesheet library="stylesheet" name="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
        <title>Review Page</title>
    </h:head>
    <h:body>
        <ui:composition template="templates/master_template.xhtml">
            <ui:define name="content">
                <section>
                    <div>
                        <h2>Write a Review for "#{tracks.trackTitle}"</h2>
                        <div id="album-list">
                            <div class="album-display-small">
                                <h:graphicImage library="images" name="#{albumsJpaController.getAlbumPath(album.albumId, false)}" styleClass="album-img-small"/>
                            </div>
                            <br/>
                            <br/>
                            <br/>
                            <br/>
                            <h:form>
                                <div class="stars">
                                    <p:growl id="messages" showDetail="true"/>
                                    <p:rating value="#{customerReviews.rating}"/>

                                </div>
                                <div class="review-textbox">
                                    <h:inputTextarea rows = "5" cols = "60"
                                                     a:placeholder="#{msgs.reviewPlaceHolder}"
                                                     value="#{customerReviews.review_Text}"/>
                                </div>
                                <div>
                                    <p:commandButton class="reviewbtn" type="submit" value="#{msgs.addReview}"
                                                     action="#{customerReviews.addCustomerReview()}"
                                                     oncomplete="PF('ReviewAddedDialog').show()"/>                                   
                                </div>

                                <p:confirmDialog widgetVar="ReviewAddedDialog" showEffect="fade" width="300"
                                                 message="#{msgs.reviewAdded}" header="#{msgs.confReview}">
                                    <p:commandButton value="Okay" icon="pi pi-check" actionListener="#{customerReviews.returnToTrackPage()}"
                                                     oncomplete="PF('ApprovalStatusDialog').hide()"/>
                                </p:confirmDialog>

                            </h:form>
                        </div>
                    </div>
                </section>
            </ui:define>
        </ui:composition>
    </h:body>
</html>