<!DOCTYPE html>
<!-- Header and navbar for the master template @Author Susan Vuu - 1735488 -->
<!-- Add login components @Author Yan Tang - 1733570 -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <body>
        <header>
            <h:form>
                <h:commandLink action="index.html">
                    <h:graphicImage library="images" name="UPDATED_BeatChamberLogo.png" styleClass="main-icon"/>
                </h:commandLink>
            </h:form>
        </header>
        <nav>
            <div class="topnav">
                <h:link value="#{msgs.home}" outcome="redirectToIndex"/>
                <h:link value="#{msgs.browseMusic}" outcome="redirectToBrowseMusic"/>
                <h:link value="#{msgs.about}" outcome="redirectToAbout"/>
                <h:form>
                    <h:commandLink action="#{localeChanger.changeLocale()}">
                        #{msgs.changeLanguage}
                    </h:commandLink>
                </h:form>
                <h:link value="#{msgs.loginRegister}" outcome="redirectToLogin"
                        rendered="#{!theLoginRegister.loggedIn}"/>
                <h:link value="#{msgs.management}" outcome="redirectToManagement"
                        rendered="#{theLoginRegister.loggedIn and theLoginRegister.manager}"/>               

                <h:form>
                    <h:commandLink action="cart">
                        <h:graphicImage library="images" name="shopping-cart.png" styleClass="cart-icon"/>
                        <h:outputLabel>#{cookies.findNumberOfItemsInCart()}</h:outputLabel>
                    </h:commandLink>
                </h:form>

                <h:form>
                    <h:outputText value="#{msgs.welcome} #{theLoginRegister.username}" styleClass="welcome-label"
                                  rendered="#{theLoginRegister.loggedIn}"/>
                    <h:commandLink id="logout" action="#{theLoginRegister.doLogout}"
                                   rendered="#{theLoginRegister.loggedIn}">
                        <i class="pi pi-fw pi-power-off"></i>
                    </h:commandLink>
                </h:form>
            </div>
        </nav>
        <div class="search-form">
            <h:form id="searchFunctions">
                <h:inputText id="searchBar" a:placeholder="#{msgs.searchMusic}" value="#{search.searchValue}" styleClass="search" rendered="#{!search.dateCondition}"/>
                
                <p:calendar id="calendar" styleClass="search" value="#{search.searchValue}" navigator="true"
                        pattern="yyyy-MM-dd" rendered="#{search.dateCondition}"/>
                <p:calendar id="calendar" a:placeholder="Last Date" styleClass="search" value="#{search.searchValue}" navigator="true"
                        pattern="yyyy-MM-dd" rendered="#{search.dateCondition}"/>
                
                <h:selectOneMenu value="#{search.searchCondition}" styleClass="search-dropdown">
                    <f:selectItem itemValue="albumTtitle" itemLabel="Album Title" />
                    <f:selectItem itemValue="trackName" itemLabel="Track Name" />
                    <f:selectItem itemValue="dateAdded" itemLabel="Date Added" />
                    <f:selectItem itemValue="artistName" itemLabel="Artist Name" />
                    <f:ajax render="searchFunctions"/>
                </h:selectOneMenu>
                <h:commandButton action="" styleClass="search-button" value="#{msgs.search}"/>
            </h:form>
        </div>
    </body>
</html>
